<div class="container-fluid AboutUsSubCategory-Wrapper">
  <div class="row AboutUsSubCategory-Inner">
    <app-left-side class="hidden-xs col-sm-2"></app-left-side>

    <article class="col-xs-12 col-sm-8 AboutUsSubCategory-Sides AboutUsSubCategory-CenterSide">
      <div class="row AboutUsSubCategory-CenterSide-SubCatsDescWrapper">

        <div class="col-xs-12">
          <!-- onclick="OpenFilter()" -->
          <button class="AboutUsSubCategory-CenterSide-TreeButton">
            <img src="assets/img/filter.png" alt="نوآوران شبکه فربین - Farbin Corporation - آرشیو رویدادهای فربین" />
            <p>فیلتر</p>
          </button>

          <!-- <section class="IncidentCategory-CenterSide-TreeWrapper">
            <ul class="IncidentCategory-CenterSide-Tree">
              <li ng-repeat="SubCat in SubCat.IncidentCategorys" data-ng-include="'tree-structure'"
                id="Cat{{::SubCat.IDX}}"></li>
            </ul>
            <div class="TreeContainer">
              <script type="text/ng-template" id="tree-structure">
                  <div class="TreeContainer-Body">
                    <input ng-if="!SubCat.IncidentCategorys" 
                      type="checkbox"
                      id="TreeCheckbox{{::SubCat.IDX}}"
                      ng-click="FilteringEvnetsAndCloseTree($event,SubCat.IDIncidentCategory)"> 
                    <label class="CursorPointer"
                      for="TreeCheckbox{{::SubCat.IDX}}">
                        {{::SubCat.Name_Fa}}
                    </label>
                  </div>
                  <div id="List{{::SubCat.IDX}}">
                    <ul class="IncidentCategory-CenterSide-Tree">
                      <li ng-repeat="SubCat in SubCat.IncidentCategorys"
                        data-ng-include="'tree-structure'"
                        id="Cat{{::SubCat.IDX}}"></li>
                    </ul>
                  </div>
                </script>
              <ul class="IncidentCategory-CenterSide-Tree" id="List0">
                <li ng-repeat="SubCat in ExhibitionCatTree" data-ng-include="'tree-structure'" id="Cat{{::SubCat.IDX}}">
                </li>
              </ul>
            </div>
          </section> -->


          <section class="IncidentCategory-CenterSide-TreeWrapper">
            <div class="TreeContainer">
              <ng-template #recursiveList let-list="list">
                <div class="TreeContainer-Body" *ngFor="let incidentCategory of list">
                  <!-- ng-click="FilteringEvnetsAndCloseTree($event,SubCat.IDIncidentCategory)" -->
                  <input *ngIf="!incidentCategory.IncidentCategorys" type="checkbox"
                    id="TreeCheckbox{{ incidentCategory.IDX }}">
                  <label for="TreeCheckbox{{ incidentCategory.IDX }}">
                    {{ incidentCategory.Name_Fa }}
                  </label>
                  <ul class="IncidentCategory-CenterSide-Tree">
                    <ng-container *ngTemplateOutlet="recursiveList; context:{ list: incidentCategory.IncidentCategorys }"></ng-container>
                  </ul>
                </div>
              </ng-template>
              <ng-container *ngTemplateOutlet="recursiveList; context:{ list: incidentCategories }"></ng-container>
            </div>
          </section>
          

          <hr class="AboutUsSubCategory-CenterSide-FilterLine" />
        </div>

        <section class="col-xs-12 IncidentCategory-content-AllEvents" *ngFor="let incidentPreview of incidentPreviews">
          <!-- href="/Incident/{{::Incident.IDX}}" -->
          <a>
            <img [src]="enviornment.baseUrl + incidentPreview.PicUrl | getSmallImage"
              alt="{{ incidentPreview.Name_Fa }}" />
          </a>
          <div class="IncidentCategory-content-Desc IncidentCategory-CenterSide-Desc">
            <!-- href="/Incident/{{::Incident.IDX}}" -->
            <a>
              <h3>{{ incidentPreview.Name_Fa }}</h3>
              <p *ngIf="incidentPreview.EndDate || incidentPreview.StartDate">
                {{ incidentPreview.StartDate === incidentPreview.EndDate ? 'در تاریخ ' + incidentPreview.StartDate : 'در تاریخ ' + incidentPreview.StartDate + ' لغایت ' + incidentPreview.EndDate}}
              </p>
            </a>
          </div>
        </section>

      </div>
    </article>

    <app-right-side class="hidden-xs col-sm-2"></app-right-side>
  </div>
</div>